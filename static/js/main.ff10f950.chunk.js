(this["webpackJsonpclass-32-solution-todo"]=this["webpackJsonpclass-32-solution-todo"]||[]).push([[0],{293:function(e,t){},295:function(e,t){},309:function(e,t){},311:function(e,t){},339:function(e,t){},341:function(e,t){},342:function(e,t){},347:function(e,t){},349:function(e,t){},355:function(e,t){},357:function(e,t){},376:function(e,t){},388:function(e,t){},391:function(e,t){},436:function(e,t,n){},437:function(e,t,n){},438:function(e,t,n){},439:function(e,t,n){"use strict";n.r(t);var c=n(71),a=n(72),s=n(76),i=n(75),r=n(0),o=n.n(r),l=n(18),u=n.n(l),j=n(15),d=n(2),b=o.a.createContext();var O=function(e){var t=Object(r.useState)(3),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)("difficulty"),i=Object(j.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)("light"),O=Object(j.a)(u,2),m=O[0],p=O[1],f=Object(r.useState)(!1),h=Object(j.a)(f,2),x=h[0],g=h[1],v={displayCompletedItems:x,itemsPerPage:c,defaultSort:o,mode:m,setItemsPerPage:a,setDefaultSort:l,setMode:p,setDisplayCompletedItems:g,saveSettings:function(){var e={displayCompletedItems:x,defaultSort:o,itemsPerPage:c,mode:m};localStorage.setItem("displaySettings",JSON.stringify(e))}};return Object(r.useEffect)((function(){!function(){try{var e=localStorage.getItem("displaySettings");e=JSON.parse(e),g(e.displayCompletedItems),a(e.itemsPerPage),l(e.defaultSort),p(e.mode)}catch(t){console.error(t.messege)}}()}),[]),Object(d.jsx)(b.Provider,{value:v,children:e.children})},m=n(108),p=n.n(m),f=n(200),h=n(201),x=n.n(h),g=n(59),v=n.n(g),S=n(202),C=n.n(S),P=o.a.createContext(),y=Object({NODE_ENV:"production",PUBLIC_URL:"/todo-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SECRET||"wheeloftime",I=Object({NODE_ENV:"production",PUBLIC_URL:"/todo-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL||"https://bearer-auth-practice.herokuapp.com";console.log(y,I);var N=function(e){var t=Object(r.useState)(!1),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)({}),i=Object(j.a)(s,2),o=i[0],l=i[1],u=function(){var e=Object(f.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.post("".concat(I,"/signin"),{},{auth:{username:t.username,password:t.password}});case 3:n=e.sent,a(!0),l(n.data.user),v.a.save("auth",n.data.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=v.a.load("auth")||null;try{var t=C.a.verify(e,y);l(t),a(!0)}catch(n){console.error("Invalid Token")}}),[]);var b={isLoggedIn:c,user:o,login:u,logout:function(){v.a.remove("auth"),a(!1)}};return Object(d.jsx)(P.Provider,{value:b,children:e.children})},T=n(208),D=n(49),E=n(40),_=function(e){var t=Object(r.useState)({}),n=Object(j.a)(t,2),c=n[0],a=n[1];return{handleChange:function(e){e.persist(),a((function(t){return Object(E.a)(Object(E.a)({},t),{},Object(D.a)({},e.target.name,e.target.value))})),console.log(c)},handleSubmit:function(t){t&&t.preventDefault(),e(Object(E.a)({},c))},values:c}},k=n(444);var A=function(e){var t=_((function(t){t.id=Object(k.a)(),t.complete=!1,e.addItem(t)})),n=t.handleChange,c=t.handleSubmit;return Object(d.jsxs)("form",{onSubmit:c,children:[Object(d.jsx)("h2",{children:"Add To Do Item"}),Object(d.jsxs)("label",{children:[Object(d.jsx)("span",{children:"To Do Item"}),Object(d.jsx)("input",{className:"bp3-input",onChange:n,name:"text",type:"text",placeholder:"Item Details"})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("span",{children:"Assigned To"}),Object(d.jsx)("input",{className:"bp3-input",onChange:n,name:"assignee",type:"text",placeholder:"Assignee Name"})]}),Object(d.jsxs)("label",{className:"bp3-label",children:[Object(d.jsx)("span",{className:"bp3-text",children:"Difficulty"}),Object(d.jsx)("input",{className:"bp3-slider",onChange:n,defaultValue:3,type:"range",min:1,max:5,name:"difficulty"})]}),Object(d.jsx)("label",{children:Object(d.jsx)("button",{className:"bp3-button bp3-intent-primary",type:"submit",children:"Add Item"})})]})},L=n(443),R=n(32);var w=function(e){var t=Object(r.useContext)(b),n=Object(r.useState)([]),c=Object(j.a)(n,2),a=c[0],s=c[1],i=e.currentPage*t.itemsPerPage,o=i-t.itemsPerPage,l=e.list.slice(o,i);return Object(r.useEffect)((function(){s(l)}),[e.list,e.currentPage]),Object(d.jsx)("div",{className:"toDoList",children:a.map((function(t,n){return Object(d.jsx)(L.b,{elevation:R.a.THREE,children:Object(d.jsxs)("div",{id:n,children:[Object(d.jsxs)("div",{className:"title",children:[Object(d.jsx)("span",{className:"bp3-tag bp3-round ".concat(t.complete?"bp3-intent-danger":"bp3-intent-success"),onClick:function(){return e.toggleComplete(t.id)},children:t.complete?"Complete":"In Progress"}),Object(d.jsx)("p",{children:Object(d.jsxs)("small",{children:["Assigned to: ",t.assignee]})}),Object(d.jsx)(L.e,{icon:"cross",onClick:function(){return e.deleteItem(t.id)}})]}),Object(d.jsx)("hr",{}),Object(d.jsx)("p",{children:t.text}),Object(d.jsx)("p",{className:"difficulty",children:Object(d.jsxs)("small",{children:["Difficulty: ",t.difficulty]})})]},t.id)})}))})};var H=function(e){for(var t=[],n=1;n<=Math.ceil(e.totalItems/e.itemsPerPage);n++)t.push(n);return Object(d.jsx)("div",{className:"pagination",children:t.map((function(t){return Object(d.jsx)("button",{className:"bp3-button bp3-intent-secondary bp3-elevation-1",onClick:function(){return e.paginate(t)},children:t})}))})},J=function(){var e=Object(r.useContext)(b),t=Object(r.useState)([]),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)([]),i=Object(j.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)(1),O=Object(j.a)(u,2),m=O[0],p=O[1],f=Object(r.useState)([]),h=Object(j.a)(f,2),x=h[0],g=h[1];function v(){if(localStorage.getItem("list")){var e=localStorage.getItem("list"),t=JSON.parse(e);a(t)}}return Object(r.useEffect)((function(){v()}),[]),Object(r.useEffect)((function(){c.sort((function(t,n){return t[e.defaultSort]-n[e.defaultSort]}));var t=c.filter((function(e){return!e.complete})).length;l(t),document.title="To Do List: ".concat(t),function(){if(!e.displayCompletedItems){var t=c.filter((function(t){return t.complete===e.displayCompletedItems}));return g(t)}g(c)}()}),[c]),Object(d.jsxs)("main",{children:[Object(d.jsx)("header",{children:Object(d.jsxs)("h1",{children:["To Do List: ",o," items pending"]})}),Object(d.jsxs)("section",{children:[Object(d.jsx)(A,{addItem:function(e){localStorage.setItem("list",JSON.stringify([].concat(Object(T.a)(c),[e]))),v()},list:c}),Object(d.jsx)(w,{list:x,currentPage:m,toggleComplete:function(e){var t=c.map((function(t){return t.id==e&&(t.complete=!t.complete),t}));localStorage.setItem("list",JSON.stringify(t)),v()},deleteItem:function(e){var t=c.filter((function(t){return t.id!==e}));localStorage.setItem("list",JSON.stringify(t)),v()}})]}),Object(d.jsx)(H,{itemsPerPage:e.itemsPerPage,totalItems:x.length,paginate:function(e){return p(e)}})]})},U=n(60),W=n(77),K=n(1);var B=function(e){var t=Object(r.useState)({}),n=Object(j.a)(t,2),c=n[0],a=n[1],s=Object(r.useContext)(P),i=function(e){a(Object(E.a)(Object(E.a)({},c),{},Object(D.a)({},e.target.name,e.target.value)))};return Object(d.jsxs)(W.b,{condition:s.isLoggedIn,children:[Object(d.jsxs)(W.c,{children:["Welcome ",s.user.username,Object(d.jsx)(L.a,{onClick:s.logout,children:"Log Out"})]}),Object(d.jsx)(W.a,{children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s.login(c)},children:[Object(d.jsx)("input",{className:K.a.INPUT,name:"username",onChange:i,placeholder:"Username"}),Object(d.jsx)("input",{className:K.a.INPUT,name:"password",type:"password",onChange:i,placeholder:"Password"}),Object(d.jsx)(L.a,{type:"submit",children:"Log In"})]})})]})};var F=function(e){return Object(d.jsxs)("nav",{children:[Object(d.jsx)(U.b,{id:"link",to:"/home",children:"Home"}),Object(d.jsx)(U.b,{id:"link",to:"/styles",children:"Styles"}),Object(d.jsx)("div",{className:"login",children:Object(d.jsx)(B,{})})]})};var M=function(){return Object(d.jsx)("footer",{children:Object(d.jsx)("a",{href:"https://github.com/Twin-2/todo-app",children:"GitHub Link"})})};var V=function(){var e=Object(r.useContext)(b),t=function(t){switch(t.target.name){case"itemsPerPage":e.setItemsPerPage(t.target.value);case"defaultSort":e.setDefaultSort(t.target.value)}};return Object(d.jsxs)(L.c,{inline:!1,children:[Object(d.jsx)("label",{children:"Items Per Page"}),Object(d.jsx)("input",{name:"itemsPerPage",type:"number",value:e.itemsPerPage,onChange:t}),Object(d.jsx)("span",{children:"Default Sort"}),Object(d.jsxs)(L.d,{name:"defaultSort",value:e.defaultSort,onChange:t,children:[Object(d.jsx)("option",{value:"assignee",children:"Assignee"}),Object(d.jsx)("option",{value:"complete",children:"Complete"}),Object(d.jsx)("option",{value:"text",children:"Text"}),Object(d.jsx)("option",{value:"difficulty",children:"Difficulty"})]}),Object(d.jsx)("span",{children:"Display Completed?"}),Object(d.jsx)(L.f,{name:"displayCompleted",checked:e.displayCompletedItems,onChange:function(t){var n=!e.displayCompletedItems;e.setDisplayCompletedItems(n)}}),Object(d.jsx)("span",{children:"Dark Mode "}),Object(d.jsx)(L.f,{disabled:!0,label:"Coming soon!",name:"mode"}),Object(d.jsx)(L.a,{onClick:function(t){t.preventDefault(),e.saveSettings()},children:"Submit"})]})},G=n(13),q=(n(436),n(437),n(438),function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(d.jsx)(O,{children:Object(d.jsx)(N,{children:Object(d.jsxs)(U.a,{children:[Object(d.jsx)(F,{}),Object(d.jsxs)(G.c,{children:[Object(d.jsx)(G.a,{exact:!0,path:"/",children:Object(d.jsx)(J,{})}),Object(d.jsx)(G.a,{exact:!0,path:"/styles",children:Object(d.jsx)(V,{})})]}),Object(d.jsx)(M,{})]})})})}}]),n}(o.a.Component)),z=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(d.jsx)(q,{})}}]),n}(o.a.Component),Q=document.getElementById("root");u.a.render(Object(d.jsx)(z,{}),Q)}},[[439,1,2]]]);
//# sourceMappingURL=main.ff10f950.chunk.js.map